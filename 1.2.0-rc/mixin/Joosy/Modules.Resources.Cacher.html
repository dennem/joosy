<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>CoffeeScript API Documentation</title>
  <script src='../../javascript/application.js'></script>
  <script src='../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../extra/README.md.html' title='Joosy'>
      Joosy
    </a>
    &raquo;
    <a href='../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>Joosy</span>
    &raquo;
    <span class='title'>Modules</span>
    &raquo;
    <span class='title'>Resources</span>
    &raquo;
    <span class='title'>Cacher</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Mixin:
        Joosy.Modules.Resources.Cacher
        <span class='concern note'>Concern</span>
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>source&#47;joosy&#47;modules&#47;resources&#47;cacher.coffee</td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>Cacher allows you to implement the delayed refresh of a resource.</p><p>During the first fetch it stores the current value to localStorage
and on the second call it returns the cached value. At the same moment
it starts the new fetch and triggers &#39;changed&#39; event as soon as
the new value arrives.</p><p>When used in conjuction with <code>@renderDynamic</code> it allows you to render
template with cached value immediately. And the new arrived value will
automatically be injected into DOM.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>class Test extends Joosy.Resources.Hash
  @concern Joosy.Modules.Resources.Cacher

  @cache &#39;test&#39; # key to use at localStorage
  @fetcher (callback) -&gt;
    $.get &#39;...&#39;, (data) -&gt; callback data

Test.cached (instance) -&gt;
  # ...</code></pre>
  </div>
</div>
<div class='tags'>
</div>
      <h2>Class Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#cache-static'>
        .
(void)
<b>cache</b><span>(cacheKey)</span>
      </a>
    </span>
    <span class='desc'>
      Defines the key that will be used to referencethe cached value at localStorage.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#fetcher-static'>
        .
(void)
<b>fetcher</b><span>(fetcher)</span>
      </a>
    </span>
    <span class='desc'>
      Defines the asynchronous routine that will be usedto load the actual value of resource when <code>cached</code> is called.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#cached-static'>
        .
(void)
<b>cached</b><span>(callback, cacheKey = false, fetcher = false)</span>
      </a>
    </span>
    <span class='desc'>
      The main resolver of current value.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#fetch-static'>
        .
(void)
<b>fetch</b><span>(callback)</span>
      </a>
    </span>
    <span class='desc'>
      Low-level fetcher that gets the actual value and stores it tolocalStorage (if required)

    </span>
  </li>
</ul>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#refresh-dynamic'>
        #
(void)
<b>refresh</b><span>(callback)</span>
      </a>
    </span>
    <span class='desc'>
      Refreshes the value in both – the cache and the resource itself
    </span>
  </li>
</ul>
      <h2>Class Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='cache-static'>
      .
(void)
<b>cache</b><span>(cacheKey)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Defines the key that will be used to reference
the cached value at localStorage. Unless specified
localStorage will not be used.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>class Test extends Joosy.Resources.Hash
  @concern Joosy.Modules.Resources.Cacher
  @cache &#39;test&#39;</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>cacheKey</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='fetcher-static'>
      .
(void)
<b>fetcher</b><span>(fetcher)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Defines the asynchronous routine that will be used
to load the actual value of resource when <code>cached</code> is called.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>class Test extends Joosy.Resources.Hash
  @concern Joosy.Modules.Resources.Cacher
  @fetcher (callback) -&gt;
    $.get &#39;...&#39;, (data) -&gt; callback data</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>fetcher</span>
      <span class='type'>
        (<tt>Function&lt;Function&gt;</tt>)
      </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='cached-static'>
      .
(void)
<b>cached</b><span>(callback, cacheKey = false, fetcher = false)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>The main resolver of current value. If the cached
value is available it is returned immediately. Otherwise
the actual value is loaded.</p><p>During the first fetch it stores the current value to localStorage
and on the second call it returns the cached value. At the same moment
it starts the new fetch and triggers &#39;changed&#39; event as soon as
the new value arrives.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>callback</span>
      <span class='type'>
        (<tt>Function&lt;Cacher&gt;</tt>)
      </span>
      &mdash;
      <span class='desc'>Action to perform with resulting instance of resource</span>
    </li>
    <li>
      <span class='name'>cacheKey</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>The override for <a href='../../mixin/Joosy/Modules.Resources.Cacher.html#cache-static'>Joosy.Modules.Resources.Cacher.cache</a></span>
    </li>
    <li>
      <span class='name'>fetcher</span>
      <span class='type'>
        (<tt>Function&lt;Function&gt;</tt>)
      </span>
      &mdash;
      <span class='desc'>The override for <a href='../../mixin/Joosy/Modules.Resources.Cacher.html#fetcher-static'>Joosy.Modules.Resources.Cacher.fetcher</a></span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='fetch-static'>
      .
(void)
<b>fetch</b><span>(callback)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Low-level fetcher that gets the actual value and stores it to
localStorage (if required)</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>callback</span>
      <span class='type'>
        (<tt>Function&lt;Mixed&gt;</tt>)
      </span>
      &mdash;
      <span class='desc'>Action to perform with raw fetched value</span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='refresh-dynamic'>
      #
(void)
<b>refresh</b><span>(callback)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Refreshes the value in both – the cache and the resource itself</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>callback</span>
      <span class='type'>
        (<tt>Function&lt;Cacher&gt;</tt>)
      </span>
      &mdash;
      <span class='desc'>Action to perform with resulting instance of resource</span>
    </li>
  </ul>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  December 08, 13 23:40:32 by
  <a href='https://github.com/coffeescript/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.0-rc.4
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
  &#10034;
  <a href='https://mksoft.ch' target='_parent'>mksoft.ch</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>