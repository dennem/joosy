<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>CoffeeScript API Documentation</title>
  <link rel='stylesheet' href='../../../assets/codo.css' type='text/css'>
  <script src='../../../assets/codo.js'></script>
  <script src='../../../assets/search_data.js'></script>
</head>
  <body>
    <div id='base' data-path='../../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../../README.md.html' title='Joosy'>Joosy</a>
    &raquo;
    <a href='../../../class_index.html' title='Index'>Index</a>
    &raquo;
    <span class='title'>Joosy</span>
    &raquo;
    <span class='title'>Resources</span>
    &raquo;
    <span class='title'>Base</span>
    <nav>
      <ul>
        <li class='noframes'>
          (<a class='noframes' href='#'>no frames</a>)
        </li>
      </ul>
    </nav>
    <div id='search'>
      <a id='class_list_link' href='../../../class_list.html'>Classes</a>
      <a id='mixin_list_link' href='../../../mixin_list.html'>Mixins</a>
      <a id='method_list_link' href='../../../method_list.html'>Methods</a>
      <a id='extra_list_link' href='../../../extra_list.html'>Extras</a>
    </div>
  </div>
  <iframe id='search_frame'></iframe>
  <div id='fuzzySearch'>
    <input type='text'>
    <ol></ol>
  </div>
  <div id='help'>
    <p>
      Quickly fuzzy find classes, mixins, methods, file:
    </p>
    <ul>
      <li>
        <span>Ctrl-T</span>
        Open fuzzy finder dialog
      </li>
    </ul>
    <p>
      In frame mode you can toggle the list naviation frame on the left side:
    </p>
    <ul>
      <li>
        <span>Ctrl-L</span>
        Toggle list view
      </li>
    </ul>
    <p>
      You can focus a list in frame mode or toggle a tab in frameless mode:
    </p>
    <ul>
      <li>
        <span>Ctrl-C</span>
        Class list
      </li>
      <li>
        <span>Ctrl-I</span>
        Mixin list
      </li>
      <li>
        <span>Ctrl-F</span>
        File list
      </li>
      <li>
        <span>Ctrl-M</span>
        Method list
      </li>
      <li>
        <span>Ctrl-E</span>
        Extras list
      </li>
    </ul>
    <p>
      You can focus and blur the search input:
    </p>
    <ul>
      <li>
        <span>Ctrl-S</span>
        Focus search input
      </li>
      <li>
        <span>Esc</span>
        Blur search input
      </li>
    </ul>
    <p>
      In frameless mode you can close the list tab:
    </p>
    <ul>
      <li>
        <span>Esc</span>
        Close list tab
      </li>
    </ul>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        Joosy.Resources.Base
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>source&#47;joosy&#47;extensions&#47;resources&#47;base.coffee</td>
        </tr>
        <tr>
          <td>Inherits:</td>
          <td>
            <a href='../../../classes/Joosy/Module.html'>Joosy.Module</a>
          </td>
        </tr>
        <tr>
          <td>Includes:</td>
          <td>
                        <a href='../../../mixins/Joosy/Modules/Log.html'>Joosy.Modules.Log</a>,
            <a href='../../../mixins/Joosy/Modules/Events.html'>Joosy.Modules.Events</a>
          </td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>Basic data wrapper with triggering and entity name binding</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Basic usage
    </h4>
    <pre><code class='coffee'>class R extends Joosy.Resources.Base
  @entity &#39;r&#39;

  @beforeLoad (data) -&gt;
    data.real = true

r = R.build {r: {foo: {bar: &#39;baz&#39;}}}

r(&#39;foo&#39;)                  # {baz: &#39;baz&#39;}
r(&#39;real&#39;)                 # true
r(&#39;foo.bar&#39;)              # baz
r(&#39;foo.bar&#39;, &#39;fluffy&#39;)    # triggers &#39;changed&#39;</code></pre>
  </div>
</div>
<div class='tags'>
</div>
      <h2>Direct Known Subclasses</h2>
      <p class='children'>
                <a href='../../../classes/Joosy/Resources/REST.html'>Joosy.Resources.REST</a>,
        <a href='../../../classes/Clone.html'>Clone</a>
      </p>
      <h2>Class Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#resetIdentity-class'>
        + (void) <strong>resetIdentity</strong>()
      </a>
    </span>
    <span class='desc'>
      Clears the identity map cache.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#beforeLoad-class'>
        + (void) <strong>beforeLoad</strong>(action)
      </a>
    </span>
    <span class='desc'>
      Allows to modify data before it gets stored.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#primaryKey-class'>
        + (void) <strong>primaryKey</strong>(primaryKey)
      </a>
    </span>
    <span class='desc'>
      Sets the field containing primary key.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#entity-class'>
        + (void) <strong>entity</strong>(name)
      </a>
    </span>
    <span class='desc'>
      Sets the entity text name: required to do some magic like skipping the root node.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#collection-class'>
        + (void) <strong>collection</strong>(klass)
      </a>
    </span>
    <span class='desc'>
      Sets the collection to use
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#map-class'>
        + (void) <strong>map</strong>(name, klass = false)
      </a>
    </span>
    <span class='desc'>
      Dynamically creates collection of inline resources.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#build-class'>
        + (Joosy.Resources.Base) <strong>build</strong>(data = {})
      </a>
    </span>
    <span class='desc'>
      Wraps instance of resource inside shim-function allowing to track data changes.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__makeShim-class'>
        + (void) <strong>__makeShim</strong>(proto)
      </a>
    </span>
    <span class='desc'>
      Makes base shim-function for making instances through build or making instance clones
    </span>
  </li>
</ul>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#__collection-instance'>
        - (void) <strong>__collection</strong>()
      </a>
    </span>
    <span class='desc'>
      Implements <a href='../../../classes/Joosy/Resources/Base.html#collection-class'>Joosy.Resources.Base.collection</a> default behavior.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#id-instance'>
        - (void) <strong>id</strong>()
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#knownAttributes-instance'>
        - (void) <strong>knownAttributes</strong>()
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#load-instance'>
        - (Joosy.Resources.Base) <strong>load</strong>(data)
      </a>
    </span>
    <span class='desc'>
      Set the resource data manually
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__get-instance'>
        - (mixed) <strong>__get</strong>(path)
      </a>
    </span>
    <span class='desc'>
      Getter for wrapped data
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__set-instance'>
        - (void) <strong>__set</strong>(path, value)
      </a>
    </span>
    <span class='desc'>
      Setter for wrapped data, triggers <code>changed</code> event.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__callTarget-instance'>
        - (Array) <strong>__callTarget</strong>(path, safe = false)
      </a>
    </span>
    <span class='desc'>
      Locates the actual instance of attribute path <code>foo.bar</code> from get/set
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__call-instance'>
        - (void) <strong>__call</strong>(path, value)
      </a>
    </span>
    <span class='desc'>
      Wrapper for <a href='../../../classes/Joosy/Resources/Base.html#build-class'>Joosy.Resources.Base.build</a> magic
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__fillData-instance'>
        - (void) <strong>__fillData</strong>(data, notify = true)
      </a>
    </span>
    <span class='desc'>
      Defines how exactly prepared data should be saved
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__prepareData-instance'>
        - (Hash) <strong>__prepareData</strong>(data)
      </a>
    </span>
    <span class='desc'>
      Prepares raw data: cuts the root node if it exists, runs before filters
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#__map-instance'>
        - (void) <strong>__map</strong>(data, name, klass)
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
</ul>
      <h2>
        <small>Inherited Method Summary</small>
      </h2>
      <h3 class='inherited'>
        Methods inherited from
        <a href='../../../classes/Joosy/Module.html'>Joosy.Module</a>
      </h3>
      <p class='inherited'>
                <a href='../../../classes/Joosy/Module.html#__className-class'>.__className</a>,
                <a href='../../../classes/Joosy/Module.html#hasAncestor-class'>.hasAncestor</a>,
                <a href='../../../classes/Joosy/Module.html#aliasMethodChain-class'>.aliasMethodChain</a>,
                <a href='../../../classes/Joosy/Module.html#aliasStaticMethodChain-class'>.aliasStaticMethodChain</a>,
                <a href='../../../classes/Joosy/Module.html#merge-class'>.merge</a>,
                <a href='../../../classes/Joosy/Module.html#include-class'>.include</a>,
        <a href='../../../classes/Joosy/Module.html#extend-class'>.extend</a>
      </p>
      <h2>
        <small>Included Method Summary</small>
      </h2>
      <h3 class='included'>
        Methods included from
        <a href='../../../mixins/Joosy/Modules/Log.html'>Joosy.Modules.Log</a>
      </h3>
      <p class='included'>
                <a href='../../../mixins/Joosy/Modules/Log.html#log-mixin'>#log</a>,
                <a href='../../../mixins/Joosy/Modules/Log.html#debug-mixin'>#debug</a>,
        <a href='../../../mixins/Joosy/Modules/Log.html#debugAs-mixin'>#debugAs</a>
      </p>
      <h3 class='included'>
        Methods included from
        <a href='../../../mixins/Joosy/Modules/Events.html'>Joosy.Modules.Events</a>
      </h3>
      <p class='included'>
                <a href='../../../mixins/Joosy/Modules/Events.html#wait-mixin'>#wait</a>,
                <a href='../../../mixins/Joosy/Modules/Events.html#unwait-mixin'>#unwait</a>,
                <a href='../../../mixins/Joosy/Modules/Events.html#bind-mixin'>#bind</a>,
                <a href='../../../mixins/Joosy/Modules/Events.html#unbind-mixin'>#unbind</a>,
                <a href='../../../mixins/Joosy/Modules/Events.html#trigger-mixin'>#trigger</a>,
                <a href='../../../mixins/Joosy/Modules/Events.html#synchronize-mixin'>#synchronize</a>,
        <a href='../../../mixins/Joosy/Modules/Events.html#__splitEvents-mixin'>#__splitEvents</a>
      </p>
      <h2>Class Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='resetIdentity-class'>
      + (void) <strong>resetIdentity</strong>()
    </p>
    <div class='docstring'>
  <p>Clears the identity map cache. Recomended to be called during layout switch to
ensure correct garbage collection.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='beforeLoad-class'>
      + (void) <strong>beforeLoad</strong>(action)
    </p>
    <div class='docstring'>
  <p>Allows to modify data before it gets stored.
You can define several beforeLoad filters that will be chained.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>action</span>
      <span class='type'>
        (<tt>Function</tt>)
      </span>
      &mdash;
      <span class='desc'><code>(Object) -&gt; Object</code> to call</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='primaryKey-class'>
      + (void) <strong>primaryKey</strong>(primaryKey)
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    It has no direct use inside the REST resource itself and can be omited. But it usually should not since we have plans on adding some kind of Identity Map to Joosy.
  </div>
  <p>Sets the field containing primary key.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>primary</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Name of the field</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='entity-class'>
      + (void) <strong>entity</strong>(name)
    </p>
    <div class='docstring'>
  <p>Sets the entity text name: required to do some magic like skipping the root node.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Singular name of resource</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='collection-class'>
      + (void) <strong>collection</strong>(klass)
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    By default will try to seek for <code>EntityNamesCollection</code>. Will fallback to <a href='../../../classes/Joosy/Resources/Collection.html'>Joosy.Resources.Collection</a>
  </div>
  <p>Sets the collection to use</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>klass</span>
      <span class='type'>
        (<tt>Class</tt>)
      </span>
      &mdash;
      <span class='desc'>Class to assign as collection</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='map-class'>
      + (void) <strong>map</strong>(name, klass = false)
    </p>
    <div class='docstring'>
  <p>Dynamically creates collection of inline resources.</p><p>Inline resources share the instance with direct data and therefore can be used to handle inline changes with triggers and all that resources stuff</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Basic usage
    </h4>
    <pre><code class='coffee'>class Zombie extends Joosy.Resources.Base
  @entity &#39;zombie&#39;
class Puppy extends Joosy.Resources.Base
  @entity &#39;puppy&#39;
  @map &#39;zombies&#39;

p = Puppy.build {zombies: [{foo: &#39;bar&#39;}]}

p(&#39;zombies&#39;)            # Direct access: [{foo: &#39;bar&#39;}]
p.zombies               # Wrapped Collection of Zombie instances
p.zombies.at(0)(&#39;foo&#39;)  # bar</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Pluralized name of property to define</span>
    </li>
    <li>
      <span class='name'>klass</span>
      <span class='type'>
        (<tt>Class</tt>)
      </span>
      &mdash;
      <span class='desc'>Resource class to instantiate</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='build-class'>
      + (Joosy.Resources.Base) <strong>build</strong>(data = {})
    </p>
    <div class='docstring'>
  <p>Wraps instance of resource inside shim-function allowing to track
data changes. See class example</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span><tt><a href='../../../classes/Joosy/Resources/Base.html'>Joosy.Resources.Base</a></tt></li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__makeShim-class'>
      + (void) <strong>__makeShim</strong>(proto)
    </p>
    <div class='docstring'>
  <p>Makes base shim-function for making instances through build or making instance clones</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>proto</span>
      <span class='type'>
        (<tt>Object</tt>)
      </span>
      &mdash;
      <span class='desc'>Any function or object whose properties will be inherited by a new function</span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='__collection-instance'>
      - (void) <strong>__collection</strong>()
    </p>
    <div class='docstring'>
  <p>Implements <a href='../../../classes/Joosy/Resources/Base.html#collection-class'>Joosy.Resources.Base.collection</a> default behavior.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='id-instance'>
      - (void) <strong>id</strong>()
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='knownAttributes-instance'>
      - (void) <strong>knownAttributes</strong>()
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='load-instance'>
      - (Joosy.Resources.Base) <strong>load</strong>(data)
    </p>
    <div class='docstring'>
  <p>Set the resource data manually</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>data</span>
      <span class='type'>
        (<tt>Object</tt>)
      </span>
      &mdash;
      <span class='desc'>Data to store</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt><a href='../../../classes/Joosy/Resources/Base.html'>Joosy.Resources.Base</a></tt>)
      &mdash;
      <span class='desc'>Returns self</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__get-instance'>
      - (mixed) <strong>__get</strong>(path)
    </p>
    <div class='docstring'>
  <p>Getter for wrapped data</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>path</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Attribute name to get. Can contain dots to get inline Objects values</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span><tt>mixed</tt></li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__set-instance'>
      - (void) <strong>__set</strong>(path, value)
    </p>
    <div class='docstring'>
  <p>Setter for wrapped data, triggers <code>changed</code> event.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>path</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Attribute name to set. Can contain dots to get inline Objects values</span>
    </li>
    <li>
      <span class='name'>value</span>
      <span class='type'>
        (<tt>mixed</tt>)
      </span>
      &mdash;
      <span class='desc'>Value to set</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__callTarget-instance'>
      - (Array) <strong>__callTarget</strong>(path, safe = false)
    </p>
    <div class='docstring'>
  <p>Locates the actual instance of attribute path <code>foo.bar</code> from get/set</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>path</span>
      <span class='type'>
        (<tt>String</tt>)
      </span>
      &mdash;
      <span class='desc'>Path to the attribute (<code>foo.bar</code>)</span>
    </li>
    <li>
      <span class='name'>safe</span>
      <span class='type'>
        (<tt>Boolean</tt>)
      </span>
      &mdash;
      <span class='desc'>Indicates whether nested hashes should not be automatically created when they don&#39;t exist</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Array</tt>)
      &mdash;
      <span class='desc'>Instance of object containing last step of path and keyword for required field</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__call-instance'>
      - (void) <strong>__call</strong>(path, value)
    </p>
    <div class='docstring'>
  <p>Wrapper for <a href='../../../classes/Joosy/Resources/Base.html#build-class'>Joosy.Resources.Base.build</a> magic</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__fillData-instance'>
      - (void) <strong>__fillData</strong>(data, notify = true)
    </p>
    <div class='docstring'>
  <p>Defines how exactly prepared data should be saved</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>data</span>
      <span class='type'>
        (<tt>Object</tt>)
      </span>
      &mdash;
      <span class='desc'>Raw data to store</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__prepareData-instance'>
      - (Hash) <strong>__prepareData</strong>(data)
    </p>
    <div class='docstring'>
  <p>Prepares raw data: cuts the root node if it exists, runs before filters</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>data</span>
      <span class='type'>
        (<tt>Hash</tt>)
      </span>
      &mdash;
      <span class='desc'>Raw data to prepare</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span><tt>Hash</tt></li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='__map-instance'>
      - (void) <strong>__map</strong>(data, name, klass)
    </p>
    <div class='tags'>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  Generated on
  Mon Aug 19 2013 15:04:27 GMT+0700 (ICT)
  by
  <a href='https://github.com/netzpirat/codo' title='CoffeeScript API documentation generator'>Codo</a>
  v1.7.0
  (Node.js v0.10.5).
  &#10034;
  Press Ctrl-h to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/#!/netzpirat'>@netzpirat</a>
  &#10034;
  <a href='https://mksoft.ch'>mksoft.ch</a>
</div>
  </body>
</html>